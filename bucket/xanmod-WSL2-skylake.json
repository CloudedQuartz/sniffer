{
    "homepage": "https://github.com/Locietta/xanmod-kernel-WSL2",
    "license": "MIT",
    "extract_dir": "",
    "bin": "",
    "post_install": [
        "#########################################",
        "# set `.wslconfig` to use custom kernel #",
        "#########################################",
        "$ini = Add-Type -memberDefinition @\"",
        "[DllImport(\"Kernel32\")]",
        "public static extern long WritePrivateProfileString (string section, string key, string val, string filePath);",
        "[DllImport(\"Kernel32\")]",
        "public static extern int GetPrivateProfileString (string section, string key, string def, StringBuilder retVal, int size, string filePath);",
        "\"@ -passthru -name MyPrivateProfileString -UsingNamespace System.Text",
        "$kernel_path=\"$dir\\bzImage-skylake\" -replace \"\\\\\", \"\\\\\" # double all back-slashess",
        "$null = $ini::WritePrivateProfileString(\"wsl2\", \"kernel\", $kernel_path, \"$env:USERPROFILE\\.wslconfig\")"
    ],
    "post_uninstall": [
        "##########################################",
        "# recover `.wslconfig` to default kernel #",
        "##########################################",
        "$ini = Add-Type -memberDefinition @\"",
        "[DllImport(\"Kernel32\")]",
        "public static extern long WritePrivateProfileString (string section, string key, string val, string filePath);",
        "[DllImport(\"Kernel32\")]",
        "public static extern int GetPrivateProfileString (string section, string key, string def, StringBuilder retVal, int size, string filePath);",
        "\"@ -passthru -name MyPrivateProfileString -UsingNamespace System.Text",
        "$null = $ini::WritePrivateProfileString(\"wsl2\", \"kernel\", $null, \"$env:USERPROFILE\\.wslconfig\")"
    ],
    "version": "5.18.4",
    "url": "https://github.com/Locietta/xanmod-kernel-WSL2/releases/download/5.18.4-xanmod1-locietta-WSL2/bzImage-skylake",
    "hash": "8d20bcbaf85c897e5f73579978c8757c6325f554e1b3e268043f91632086b2d5",
    "checkver": {
        "github": "https://github.com/Locietta/xanmod-kernel-WSL2",
        "regex": "([\\d.]+)-xanmod1-locietta-WSL2"
    },
    "autoupdate": {
        "url": "https://github.com/Locietta/xanmod-kernel-WSL2/releases/download/$version-xanmod1-locietta-WSL2/bzImage-skylake"
    }
}
