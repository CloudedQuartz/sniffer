{
    "version": "1.3.236.0",
    "description": "SDK for new generation graphics and compute API",
    "homepage": "https://www.vulkan.org",
    "license": {
        "identifier": "MIT,...",
        "url": "https://vulkan.lunarg.com/license/#/license"
    },
    "notes": [
        "Make sure you have the vulkan driver installed.",
        "Variety of drivers of different graphic card vendors could be found at the bottom of 'https://www.khronos.org/vulkan/'"
    ],
    "url": "https://sdk.lunarg.com/sdk/download/1.3.236.0/windows/VulkanSDK-1.3.236.0-Installer.exe#/dl.7z",
    "hash": "0b21c602ef0d62ee49c39e03b35207d136130bf110682d7cad2c620265031dcc",
    "pre_install": "Remove-Item \"$dir\\`$*\", \"$dir\\Uninstal*\" -Recurse",
    "architecture": {
        "64bit": {
            "env_add_path": "Bin",
            "post_install": [
                "$reg_root = if ($global) { [Microsoft.Win32.Registry]::LocalMachine } else { [Microsoft.Win32.Registry]::CurrentUser }",
                "$vk_explicit_reg_path = 'SOFTWARE\\Khronos\\Vulkan\\ExplicitLayers'",
                "$vulkan_bin = \"$dir\\Bin\"",
                "$vk_layers = Get-ChildItem -Path $vulkan_bin -Filter '*.json' | ForEach-Object { $_.FullName }",
                "$vk_explicit_reg = $reg_root.CreateSubKey($vk_explicit_reg_path)",
                "foreach ($vk_layer in $vk_layers) {",
                "    $vk_explicit_reg.SetValue($vk_layer, 0, [Microsoft.Win32.RegistryValueKind]::DWord)",
                "}",
                "$vk_explicit_reg.Close()"
            ],
            "pre_uninstall": [
                "$reg_root = if ($global) { [Microsoft.Win32.Registry]::LocalMachine } else { [Microsoft.Win32.Registry]::CurrentUser }",
                "$vk_explicit_reg_path = 'SOFTWARE\\Khronos\\Vulkan\\ExplicitLayers'",
                "$vulkan_bin = if ($global) { \"$globaldir\\apps\\$app\\current\\Bin\" } else { \"$scoopdir\\apps\\$app\\current\\Bin\" }",
                "$vk_layers = Get-ChildItem -Path $vulkan_bin -Filter '*.json' | ForEach-Object { $_.FullName }",
                "$vk_explicit_reg = $reg_root.CreateSubKey($vk_explicit_reg_path)",
                "foreach ($vk_layer in $vk_layers) {",
                "    $vk_explicit_reg.DeleteValue($vk_layer, $false)",
                "}",
                "$vk_explicit_reg.Close()"
            ]
        },
        "32bit": {
            "env_add_path": "Bin32",
            "post_install": [
                "$reg_root = if ($global) { [Microsoft.Win32.Registry]::LocalMachine } else { [Microsoft.Win32.Registry]::CurrentUser }",
                "$vk_explicit_reg_path = 'SOFTWARE\\Khronos\\Vulkan\\ExplicitLayers'",
                "$vulkan_bin = \"$dir\\Bin32\"",
                "$vk_layers = Get-ChildItem -Path $vulkan_bin -Filter '*.json' | ForEach-Object { $_.FullName }",
                "$vk_explicit_reg = $reg_root.CreateSubKey($vk_explicit_reg_path)",
                "foreach ($vk_layer in $vk_layers) {",
                "    $vk_explicit_reg.SetValue($vk_layer, 0, [Microsoft.Win32.RegistryValueKind]::DWord)",
                "}",
                "$vk_explicit_reg.Close()"
            ],
            "pre_uninstall": [
                "$reg_root = if ($global) { [Microsoft.Win32.Registry]::LocalMachine } else { [Microsoft.Win32.Registry]::CurrentUser }",
                "$vk_explicit_reg_path = 'SOFTWARE\\Khronos\\Vulkan\\ExplicitLayers'",
                "$vulkan_bin = if ($global) { \"$globaldir\\apps\\$app\\current\\Bin32\" } else { \"$scoopdir\\apps\\$app\\current\\Bin32\" }",
                "$vk_layers = Get-ChildItem -Path $vulkan_bin -Filter '*.json' | ForEach-Object { $_.FullName }",
                "$vk_explicit_reg = $reg_root.CreateSubKey($vk_explicit_reg_path)",
                "foreach ($vk_layer in $vk_layers) {",
                "    $vk_explicit_reg.DeleteValue($vk_layer, $false)",
                "}",
                "$vk_explicit_reg.Close()"
            ]
        }
    },
    "env_set": {
        "VULKAN_SDK": "$dir",
        "VK_SDK_PATH": "$dir"
    },
    "checkver": {
        "url": "https://vulkan.lunarg.com/sdk/latest/windows.json",
        "jsonpath": "$.windows"
    },
    "autoupdate": {
        "url": "https://sdk.lunarg.com/sdk/download/$version/windows/VulkanSDK-$version-Installer.exe#/dl.7z",
        "hash": {
            "url": "https://vulkan.lunarg.com/sdk/files.json",
            "jsonpath": "$.windows['$version'].files[?(@.file_name == '$basename')].sha"
        }
    }
}
